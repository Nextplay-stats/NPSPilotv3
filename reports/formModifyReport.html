<form id="formModifyReport">
  <input type="hidden" name="rID" value="{{rID}}">

  <div class="form-group row">
    <label for="cboType" class="col-sm-2 col-form-label">Type</label>
    <div class="col-sm">
      <select name="rType" id="cboType" class="form-select">
        <option value="report" {{ rType === 'report' ? 'selected' : '' }}>Report</option>
        <option value="dashboard" {{ rType === 'dashboard' ? 'selected' : '' }}>Dashboard</option>
      </select>
    </div>
  </div>

  <div class="form-group row">
    <label for="txtDesc" class="col-sm-2 col-form-label">Description</label>
    <div class="col-sm">
      <input name="rDesc" id="txtDesc" class="form-control"
             value="{{rDesc}}" required>
    </div>
  </div>

  <div class="form-group row">
    <label for="txtComments" class="col-sm-2 col-form-label">Comments</label>
    <div class="col-sm">
      <input name="rComments" id="txtComments" class="form-control"
             value="{{rComments}}" maxlength="500">
    </div>
  </div>

  <div class="form-group row">
    <label for="txtAppGroupID" class="col-sm-2 col-form-label">App Group ID</label>
    <div class="col-sm">
      <input name="rAppGroupID" id="txtAppGroupID" class="form-control"
             value="{{rAppGroupID}}" required>
    </div>
  </div>

  <div class="form-group row">
    <label for="txtReportID" class="col-sm-2 col-form-label">Report ID</label>
    <div class="col-sm">
      <input name="rReportID" id="txtReportID" class="form-control"
             value="{{rReportID}}">
    </div>
  </div>

  <div class="form-group row">
    <label for="txtIcon" class="col-sm-2 col-form-label">Icon</label>
    <div class="col-sm">
      <input name="rIcon" id="txtIcon" class="form-control"
             value="{{rIcon}}">
    </div>
  </div>

  <div class="form-group row">
    <label for="cboClass" class="col-sm-2 col-form-label">Class</label>
    <div class="col-sm">
      <select name="rClass" id="cboClass" class="form-select">
        <option value="primary" {{ rClass === 'primary' ? 'selected' : '' }}>Primary</option>
        <option value="info"    {{ rClass === 'info'    ? 'selected' : '' }}>Info</option>
      </select>
    </div>
  </div>

  <div class="form-group row">
    <label for="cboAccessMode" class="col-sm-2 col-form-label">
      Access Mode
    </label>
    <div class="col-sm">
      <select name="rAccessMode" id="cboAccessMode" class="form-select">
        <option value="0" {{ rAccessMode === 0 ? 'selected' : '' }}>Open</option>
        <option value="1" {{ rAccessMode === 1 ? 'selected' : '' }}>Restricted</option>
      </select>
    </div>
  </div>

  <div class="form-group row">
    <label for="cboStatus" class="col-sm-2 col-form-label">
      Status
    </label>
    <div class="col-sm">
      <select name="rStatus" id="cboStatus" class="form-select">
        <option value="0" {{ rStatus === 0 ? 'selected' : '' }}>Draft</option>
        <option value="1" {{ rStatus === 1 ? 'selected' : '' }}>Live</option>
        <option value="2" {{ rStatus === 2 ? 'selected' : '' }}>Unavailable</option>
      </select>
    </div>
  </div>

  <div class="form-group row">
    <label for="txtTags" class="col-sm-2 col-form-label">Tags</label>
    <div class="col-sm">
      <input name="rTags" id="txtTags" class="form-control"
             value="{{rTags}}">
    </div>
  </div>

  <div class="form-group row">
    <label for="cboCategory" class="col-sm-2 col-form-label">Category</label>
    <div class="col-sm">
      <select name="rCategory" id="cboCategory" class="form-select" required>
        <option value="Any Categories" {{ rCategory === 'Any Categories' ? 'selected' : '' }}>Any Categories</option>
        <option value="CFS"             {{ rCategory === 'CFS'             ? 'selected' : '' }}>CFS</option>
        <option value="BFS"             {{ rCategory === 'BFS'             ? 'selected' : '' }}>BFS</option>
        <option value="OPS"             {{ rCategory === 'OPS'             ? 'selected' : '' }}>OPS</option>
        <option value="SGPBRT"          {{ rCategory === 'SGPBRT'          ? 'selected' : '' }}>SGPBRT</option>
        <option value="Organisational"  {{ rCategory === 'Organisational'  ? 'selected' : '' }}>Organisational</option>
      </select>
    </div>
  </div>

  <div class="form-group row">
    <label for="cboGroups" class="col-sm-2 col-form-label">Display Groups</label>
    <div class="col-sm">
      <select name="rGroups[]" id="cboGroups" class="form-select" data-allow-clear="true" multiple>
        <!-- loop through your groups server‐side and mark selected as needed -->
        <option value="1" {{ rGroups.includes(1) ? 'selected' : '' }}>Protection</option>
        <option value="2" {{ rGroups.includes(2) ? 'selected' : '' }}>Prevention</option>
        <option value="3" {{ rGroups.includes(3) ? 'selected' : '' }}>People</option>
        <option value="4" {{ rGroups.includes(4) ? 'selected' : '' }}>Response</option>
        <option value="5" {{ rGroups.includes(5) ? 'selected' : '' }}>Corporate</option>
      </select>
    </div>
  </div>
</form>

<div class="modal-footer">
  <button type="button" class="btn btn-primary"
          onclick="modalforms.saveModifyReport(event)">
    <i class="fas fa-save"></i>&nbsp;Save
  </button>
  <button type="button" class="btn btn-secondary"
          onclick="removeModal('#modal_formModifyReport')">
    Cancel
  </button>
</div>
